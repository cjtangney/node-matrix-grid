(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(44)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(21),l=a.n(r),s=a(22),c=a(11),o=a(12),u=a.n(o),h=a(14),d=a(1),y=a(2),v=a(5),p=a(4),f=a(7),b=a(6),m=function(){function e(t,a){Object(d.a)(this,e),this._height=t,this._width=a,this.data=[],this.initialize()}return Object(y.a)(e,[{key:"initialize",value:function(){var e=this;this.data=Array.from([].fill.call({length:this._height},0)),this.data.forEach(function(t,a){e.data[a]=Array.from([].fill.call({length:e._width},0))})}},{key:"getHeight",value:function(){return this._height}},{key:"getWidth",value:function(){return this._width}},{key:"putData",value:function(e,t){var a=e.x,n=e.y;this.data[a][n]=t}},{key:"getData",value:function(e){var t=e.x,a=e.y;return this.data[a][t]}}]),e}(),g=function(e){function t(e,a){return Object(d.a)(this,t),Object(v.a)(this,Object(p.a)(t).call(this,e,a))}return Object(b.a)(t,e),t}(function(){function e(t,a){Object(d.a)(this,e),this.x=t,this.y=a,this.active=!1,this.neighbors=void 0,this.data=[]}return Object(y.a)(e,[{key:"setNeighborPoints",value:function(e,t,a){this.neighbors=e.filter(function(e){return e.x>=0&&e.y>=0&&e.x<a&&e.y<t})}},{key:"setNeighbors",value:function(e){this.neighbors=e}},{key:"toggleActive",value:function(){this.active=!this.active}},{key:"pushContents",value:function(e){this.data.push(e)}},{key:"popContents",value:function(){return this.data.pop()}},{key:"shiftContents",value:function(){return this.data.shift()}},{key:"getContents",value:function(){return this.data}}]),e}()),P=function(e){function t(e,a){var n;return Object(d.a)(this,t),(n=Object(v.a)(this,Object(p.a)(t).call(this,e,a))).activeCell=void 0,n.addCells().then(n.updateNeighbors()),n}return Object(b.a)(t,e),Object(y.a)(t,[{key:"addCells",value:function(){var e=Object(h.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.getHeight(),a=this.getWidth(),this.data.forEach(function(e,n){for(var i=0;i<e.length;i+=1)e[i]=new g(i,n),e[i].setNeighborPoints([{x:i-1,y:n},{x:i,y:n-1},{x:i+1,y:n},{x:i,y:n+1}],t,a)});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateNeighbors",value:function(){var e=this;this.data.forEach(function(t,a){for(var n=function(n){var i=[];t[a].neighbors.forEach(function(t){i.push(e.getData(t))}),t[a].setNeighbors(i)},i=0;i<t.length;i+=1)n()})}},{key:"setActiveCell",value:function(e){var t=e.x,a=e.y;this.activeCell=this.data[a][t]}},{key:"getActiveCell",value:function(){return this.activeCell}}]),t}(m),E=(a(31),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(p.a)(t).call(this,e))).hideModalById=a.hideModalById.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:this.getId(),className:"modal-background",onClick:this.hideModalOnBackdropClick},i.a.createElement("div",{className:"modal",onClick:this.stopEventBubble},i.a.createElement("h2",null,"New Player..."),i.a.createElement("br",null),i.a.createElement("div",{className:"nes-field"},i.a.createElement("label",{htmlFor:"player-start-x"},"X-coordinate"),i.a.createElement("input",{type:"text",id:"player-start-x",className:"nes-input"})),i.a.createElement("div",{className:"nes-field"},i.a.createElement("label",{htmlFor:"player-start-y"},"Y-coordinate"),i.a.createElement("input",{type:"text",id:"player-start-y",className:"nes-input"})),i.a.createElement("br",null),i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement("button",{className:"nes-btn is-success",onClick:this.props.addNewPlayer},"Okay"),i.a.createElement("button",{className:"nes-btn is-error",onClick:function(){e.hideModalById(e.getId())}},"Cancel"))))}}]),t}(function(e){function t(){return Object(d.a)(this,t),Object(v.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(y.a)(t,[{key:"getId",value:function(){return void 0===this.props.id?"":this.props.id}},{key:"hideModalOnBackdropClick",value:function(e){var t=e.target;t.style.visibility="hidden",t.style.display="none"}},{key:"hideModalById",value:function(e){var t=document.getElementById(e);t.style.visibility="hidden",t.style.display="none"}},{key:"stopEventBubble",value:function(e){e.stopPropagation()}}]),t}(n.Component))),k={1:"red",2:"orange",3:"yellow",4:"green",5:"purple",6:"fuchsia",7:"teal",8:"aqua",9:"blue",10:"lime"};Object.freeze(k);var O=function(){function e(t){Object(d.a)(this,e),this.currentLocation=t.currentLocation,this.color=k[Math.ceil(10*Math.random())],this.moveSpeed=3,this.availableMoves=this.calculateMoves()}return Object(y.a)(e,[{key:"calculateMoves",value:function(){for(var e=[],t=this.currentLocation,a=this.moveSpeed,n={},i={},r=1;r<=a;r+=1)n={x:t.x,y:t.y+r},i={x:t.x,y:t.y-r},e.push(n),e.push(i);for(var l=1;l<=a;l+=1)n={x:t.x+l,y:t.y},i={x:t.x-l,y:t.y},e.push(n),e.push(i);return e.filter(function(e){return e.x>=0&&e.y>=0&&e.x<10&&e.y<10})}}]),e}(),j=(a(32),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(p.a)(t).call(this,e))).state={BOARD_X:e.boardX,BOARD_Y:e.boardY,CELL_SIZE:e.canvasHeight/e.boardY,ADD_PLAYER_MODAL:"home-modal",canvasWidth:e.canvasWidth,canvasHeight:e.canvasHeight,data:new P(e.boardY,e.boardX),canvasContext:void 0,players:[],playerTurn:void 0,currentPlayer:void 0},a.showAddPlayerModal=a.showAddPlayerModal.bind(Object(f.a)(a)),a.addNewPlayer=a.addNewPlayer.bind(Object(f.a)(a)),a.clearPrevActivePlayer=a.clearPrevActivePlayer.bind(Object(f.a)(a)),a.highlightPlayerMoves=a.highlightPlayerMoves.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("map"),t=this.state.canvasWidth,a=this.state.canvasHeight,n=this.state.CELL_SIZE,i=e.getContext("2d");this.setState({canvasContext:i}),i.strokeStyle="#575757";for(var r=n/2;r<t;r+=n)for(var l=n/2;l<a;l+=n)i.beginPath(),i.strokeRect(r-n/2,l-n/2,n,n),i.closePath()}},{key:"componentDidUpdate",value:function(e){var t=e.currentPlayer;t!==this.props.currentPlayer&&(void 0!==t&&this.clearPrevActivePlayer(t),this.highlightPlayerMoves(),this.setState({currentPlayer:this.props.currentPlayer,playerTurn:this.props.playerTurn}))}},{key:"clearPoint",value:function(e){var t=this.state.CELL_SIZE,a=this.state.canvasContext;a.clearRect(e.x*t,e.y*t,t,t),a.fillStyle="red",a.beginPath(),a.strokeRect(e.x*t,e.y*t,t,t),a.closePath()}},{key:"drawPlayer",value:function(e,t){var a=this.state.CELL_SIZE,n=this.state.canvasContext;n.fillStyle=t.color,n.beginPath(),n.rect(e.x*a+1,e.y*a+1,a-2,a-2),n.fill(),n.closePath()}},{key:"clearPrevActivePlayer",value:function(e){var t=this;e.availableMoves.forEach(function(e){t.clearPoint(e)})}},{key:"highlightPlayerMoves",value:function(){var e=this.props.currentPlayer,t=this.state.CELL_SIZE,a=this.state.canvasContext;a.fillStyle="rgba(0,125,255,0.25)",e.availableMoves.forEach(function(e){a.beginPath(),a.rect(e.x*t+1,e.y*t+1,t-2,t-2),a.fill(),a.closePath()})}},{key:"showAddPlayerModal",value:function(e){var t=document.getElementById(e);t.style.visibility="visible",t.style.display="block"}},{key:"addNewPlayer",value:function(){var e=this.state.data,t=this.state.players,a=document.getElementById(this.state.ADD_PLAYER_MODAL),n=document.getElementById("player-start-x"),i=document.getElementById("player-start-y"),r={x:Number(n.value),y:Number(i.value)};n.value="",i.value="",a.style.visibility="hidden",a.style.display="none";var l=new O({currentLocation:r});e.getData(r).pushContents(l),t.push({playerNum:t.length+1,player:l}),this.setState({gameBoard:this.gameBoard,players:t}),void 0===e.getActiveCell()&&(e.setActiveCell(e.getData(r)),e.activeCell.toggleActive()),this.drawPlayer(r,l),this.props.addPlayerToGame(l)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("canvas",{id:"map",height:this.props.canvasHeight,width:this.props.canvasWidth,onClick:this.handleClick}),i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement("button",{className:"nes-btn is-primary",onClick:function(){e.showAddPlayerModal(e.state.ADD_PLAYER_MODAL)}},"Add Player")),i.a.createElement(E,{id:this.state.ADD_PLAYER_MODAL,addNewPlayer:this.addNewPlayer}))}}]),t}(n.Component)),x=(a(33),function(e){function t(){return Object(d.a)(this,t),Object(v.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"panel",style:{width:this.props.width}},this.props.children)}}]),t}(n.Component)),C=(a(34),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(p.a)(t).call(this,e))).state={players:[],playerTurn:void 0,activePlayer:void 0},a.addPlayerToGame=a.addPlayerToGame.bind(Object(f.a)(a)),a.nextTurn=a.nextTurn.bind(Object(f.a)(a)),a.getCurrentPlayer=a.getCurrentPlayer.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(y.a)(t,[{key:"initializePlayers",value:function(){this.setState({playerTurn:1})}},{key:"addPlayerToGame",value:function(){var e=Object(h.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.players,0===this.state.players.length&&(this.initializePlayers(),this.setState({activePlayer:t})),this.state.players.includes(t)||(a.push(t),this.setState({players:a}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentPlayer",value:function(){return this.state.activePlayer}},{key:"nextTurn",value:function(){var e=this.state.playerTurn;e!==this.state.players.length?this.setState({playerTurn:e+1,activePlayer:this.state.players[e]}):this.setState({playerTurn:1,activePlayer:this.state.players[0]})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(x,null,i.a.createElement("span",{className:"nes-text"},"PLAYER TURN: ",this.state.playerTurn),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{id:"next-turn-button",className:"nes-btn is-primary",onClick:this.nextTurn},"Next Turn")),i.a.createElement(j,{boardX:10,boardY:10,canvasWidth:850,canvasHeight:850,addPlayerToGame:this.addPlayerToGame,playerTurn:this.state.playerTurn,currentPlayer:this.getCurrentPlayer()}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(43);l.a.render(i.a.createElement(function(){return i.a.createElement(s.a,null,i.a.createElement(c.a,{exact:!0,path:"/",render:function(){return i.a.createElement(C,null)}}))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.0b800f97.chunk.js.map