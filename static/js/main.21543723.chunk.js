(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(44)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),l=a.n(i),c=a(22),s=a(11),o=a(12),u=a.n(o),h=a(14),d=a(1),y=a(3),v=a(6),p=a(5),f=a(4),b=a(7),m=function(){function e(t,a){Object(d.a)(this,e),this.height=t,this.width=a,this.data=[],this.initialize()}return Object(y.a)(e,[{key:"initialize",value:function(){var e=this;this.data=Array.from([].fill.call({length:this.height},0)),this.data.forEach(function(t,a){e.data[a]=Array.from([].fill.call({length:e.width},0))})}},{key:"getHeight",value:function(){return this.height}},{key:"getWidth",value:function(){return this.width}},{key:"putData",value:function(e,t){var a=e.x,n=e.y;this.data[a][n]=t}},{key:"getData",value:function(e){var t=e.x,a=e.y;return this.data[a][t]}}]),e}(),g=function(e){function t(e,a){return Object(d.a)(this,t),Object(v.a)(this,Object(p.a)(t).call(this,e,a))}return Object(b.a)(t,e),t}(function(){function e(t,a){Object(d.a)(this,e),this.x=t,this.y=a,this.active=!1,this.neighbors=void 0,this.data=[]}return Object(y.a)(e,[{key:"setNeighborPoints",value:function(e,t,a){this.neighbors=e.filter(function(e){return e.x>=0&&e.y>=0&&e.x<a&&e.y<t})}},{key:"setNeighbors",value:function(e){this.neighbors=e}},{key:"toggleActive",value:function(){this.active=!this.active}},{key:"pushContents",value:function(e){this.data.push(e)}},{key:"popContents",value:function(){return this.data.pop()}},{key:"shiftContents",value:function(){return this.data.shift()}},{key:"getContents",value:function(){return this.data}}]),e}()),P=function(e){function t(e,a){var n;return Object(d.a)(this,t),(n=Object(v.a)(this,Object(p.a)(t).call(this,e,a))).activeCell=void 0,n.addCells(),n}return Object(b.a)(t,e),Object(y.a)(t,[{key:"addCells",value:function(){var e=Object(h.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.getHeight(),a=this.getWidth(),this.data.forEach(function(e,n){for(var r=0;r<e.length;r+=1)e[r]=new g(r,n),e[r].setNeighborPoints([{x:r-1,y:n},{x:r,y:n-1},{x:r+1,y:n},{x:r,y:n+1}],t,a)});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateNeighbors",value:function(){var e=this;this.data.forEach(function(t,a){for(var n=function(n){var r=[];t[a].neighbors.forEach(function(t){r.push(e.getData(t))}),t[a].setNeighbors(r)},r=0;r<t.length;r+=1)n()})}},{key:"setActiveCell",value:function(e){var t=e.x,a=e.y;this.activeCell=this.data[a][t]}},{key:"getActiveCell",value:function(){return this.activeCell}}]),t}(m),E=(a(31),function(e){function t(){return Object(d.a)(this,t),Object(v.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(y.a)(t,[{key:"getId",value:function(){return this.props.id}},{key:"hideModalOnBackdropClick",value:function(e){var t=e.target;t.style.visibility="hidden",t.style.display="none"}},{key:"hideModalById",value:function(e){var t=document.getElementById(e);t.style.visibility="hidden",t.style.display="none"}},{key:"stopEventBubble",value:function(e){e.stopPropagation()}}]),t}(n.Component));E.defaultProps={id:""};var k=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(p.a)(t).call(this,e))).hideModalById=a.hideModalById.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:this.getId(),className:"modal-background",role:"presentation",onClick:this.hideModalOnBackdropClick},r.a.createElement("div",{className:"modal",role:"presentation",onClick:this.stopEventBubble},r.a.createElement("h2",null,"New Player..."),r.a.createElement("br",null),r.a.createElement("div",{className:"nes-field"},r.a.createElement("label",{htmlFor:"player-start-x"},"X-coordinate",r.a.createElement("input",{type:"text",id:"player-start-x",className:"nes-input"}))),r.a.createElement("div",{className:"nes-field"},r.a.createElement("label",{htmlFor:"player-start-y"},"Y-coordinate",r.a.createElement("input",{type:"text",id:"player-start-y",name:"player-start-y",className:"nes-input"}))),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"button",className:"nes-btn is-success",onClick:this.props.addNewPlayer},"Okay"),r.a.createElement("button",{type:"button",className:"nes-btn is-error",onClick:function(){e.hideModalById(e.getId())}},"Cancel"))))}}]),t}(E),O={1:"red",2:"orange",3:"yellow",4:"green",5:"purple",6:"fuchsia",7:"teal",8:"aqua",9:"blue",10:"lime"};Object.freeze(O);var j=function(){function e(t){Object(d.a)(this,e),this.currentLocation=t.currentLocation,this.color=O[Math.ceil(10*Math.random())],this.moveSpeed=3,this.availableMoves=this.calculateMoves()}return Object(y.a)(e,[{key:"calculateMoves",value:function(){for(var e=[],t=this.currentLocation,a=this.moveSpeed,n={},r={},i=1;i<=a;i+=1)n={x:t.x,y:t.y+i},r={x:t.x,y:t.y-i},e.push(n),e.push(r);for(var l=1;l<=a;l+=1)n={x:t.x+l,y:t.y},r={x:t.x-l,y:t.y},e.push(n),e.push(r);return e.filter(function(e){return e.x>=0&&e.y>=0&&e.x<10&&e.y<10})}}]),e}(),x=(a(32),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(p.a)(t).call(this,e))).state={CELL_SIZE:e.canvasHeight/e.boardY,ADD_PLAYER_MODAL:"home-modal",canvasWidth:e.canvasWidth,canvasHeight:e.canvasHeight,data:new P(e.boardY,e.boardX),canvasContext:void 0,players:[],playerTurn:void 0,currentPlayer:void 0},a.showAddPlayerModal=a.showAddPlayerModal.bind(Object(f.a)(a)),a.addNewPlayer=a.addNewPlayer.bind(Object(f.a)(a)),a.clearPrevActivePlayer=a.clearPrevActivePlayer.bind(Object(f.a)(a)),a.highlightPlayerMoves=a.highlightPlayerMoves.bind(Object(f.a)(a)),a.onUpdate=a.onUpdate.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.canvasWidth,a=e.canvasHeight,n=e.CELL_SIZE,r=t,i=a,l=document.getElementById("map").getContext("2d");this.setState({canvasContext:l}),l.strokeStyle="#575757";for(var c=n/2;c<r;c+=n)for(var s=n/2;s<i;s+=n)l.beginPath(),l.strokeRect(c-n/2,s-n/2,n,n),l.closePath()}},{key:"componentDidUpdate",value:function(e){var t=e.currentPlayer,a=this.props,n=a.currentPlayer,r=a.playerTurn;t!==n&&(void 0!==t&&this.clearPrevActivePlayer(t),this.highlightPlayerMoves(),this.onUpdate({currentPlayer:n,playerTurn:r}))}},{key:"onUpdate",value:function(e){var t=e.currentPlayer,a=e.playerTurn;this.setState({currentPlayer:t,playerTurn:a})}},{key:"highlightPlayerMoves",value:function(){var e=this.props.currentPlayer,t=this.state,a=t.CELL_SIZE,n=t.canvasContext;n.fillStyle="rgba(0,125,255,0.25)",e.availableMoves.forEach(function(e){n.beginPath(),n.rect(e.x*a+1,e.y*a+1,a-2,a-2),n.fill(),n.closePath()})}},{key:"clearPoint",value:function(e){var t=this.state,a=t.CELL_SIZE,n=t.canvasContext,r=t.data;if(n.clearRect(e.x*a,e.y*a,a,a),n.fillStyle="red",n.beginPath(),n.strokeRect(e.x*a,e.y*a,a,a),n.closePath(),r.getData(e).data.length>0){var i=r.getData(e).data[0];this.drawPlayer(i.currentLocation,i)}}},{key:"drawPlayer",value:function(e,t){var a=this.state,n=a.CELL_SIZE,r=a.canvasContext;r.fillStyle=t.color,r.beginPath(),r.rect(e.x*n+1,e.y*n+1,n-2,n-2),r.fill(),r.closePath()}},{key:"clearPrevActivePlayer",value:function(e){var t=this;e.availableMoves.forEach(function(e){t.clearPoint(e)})}},{key:"showAddPlayerModal",value:function(){var e=this.state.ADD_PLAYER_MODAL,t=document.getElementById(e);t.style.visibility="visible",t.style.display="block"}},{key:"addNewPlayer",value:function(){var e=this.state,t=e.data,a=e.players,n=e.ADD_PLAYER_MODAL,r=t,i=document.getElementById(n),l=document.getElementById("player-start-x"),c=document.getElementById("player-start-y"),s={x:Number(l.value),y:Number(c.value)};l.value="",c.value="",i.style.visibility="hidden",i.style.display="none";var o=new j({currentLocation:s});r.getData(s).pushContents(o),a.push({playerNum:a.length+1,player:o}),this.setState({players:a,data:r}),void 0===r.getActiveCell()&&(r.setActiveCell(r.getData(s)),r.activeCell.toggleActive()),this.drawPlayer(s,o),(0,this.props.addPlayerToGame)(o)}},{key:"render",value:function(){var e=this,t=this.props,a=t.canvasHeight,n=t.canvasWidth,i=this.state.ADD_PLAYER_MODAL;return r.a.createElement("div",null,r.a.createElement("canvas",{id:"map",height:a,width:n,onClick:this.handleClick}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"button",className:"nes-btn is-primary",onClick:function(){e.showAddPlayerModal()}},"Add Player")),r.a.createElement(k,{id:i,addNewPlayer:this.addNewPlayer}))}}]),t}(n.Component));x.defaultProps={addPlayerToGame:void 0,playerTurn:void 0,currentPlayer:void 0};a(33);function C(e){var t=e.width,a=e.children;return r.a.createElement("div",{className:"panel",style:{width:t}},a)}C.defaultProps={width:void 0};a(34);var w=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(p.a)(t).call(this,e))).state={players:[],playerTurn:void 0,activePlayer:void 0},a.addPlayerToGame=a.addPlayerToGame.bind(Object(f.a)(a)),a.nextTurn=a.nextTurn.bind(Object(f.a)(a)),a.getCurrentPlayer=a.getCurrentPlayer.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(y.a)(t,[{key:"getCurrentPlayer",value:function(){return this.state.activePlayer}},{key:"initializePlayers",value:function(){this.setState({playerTurn:1})}},{key:"addPlayerToGame",value:function(){var e=Object(h.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.players,0===(n=a).length&&(this.initializePlayers(),this.setState({activePlayer:t})),n.includes(t)||(n.push(t),this.setState({players:n}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nextTurn",value:function(){var e=this.state,t=e.playerTurn,a=e.players,n=t;n!==a.length?this.setState({playerTurn:n+1,activePlayer:a[n]}):this.setState({playerTurn:1,activePlayer:a[0]})}},{key:"render",value:function(){var e=this.state.playerTurn;return r.a.createElement("div",null,r.a.createElement(C,null,r.a.createElement("span",{className:"nes-text"},"PLAYER TURN: ".concat(e)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{id:"next-turn-button",type:"button",className:"nes-btn is-primary",onClick:this.nextTurn},"Next Turn")),r.a.createElement(x,{boardX:10,boardY:10,canvasWidth:850,canvasHeight:850,addPlayerToGame:this.addPlayerToGame,playerTurn:e,currentPlayer:this.getCurrentPlayer()}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(43);l.a.render(r.a.createElement(function(){return r.a.createElement(c.a,null,r.a.createElement(s.a,{exact:!0,path:"/",render:function(){return r.a.createElement(w,null)}}))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.21543723.chunk.js.map